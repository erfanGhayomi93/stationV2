import React, { useMemo } from 'react';
import { useAppValues } from 'src/redux/hooks';
import ChartController from './components/ChartController';
import SymbolLinearChart from './components/SymbolLinearChart';
import SymbolCandleChart from './components/SymbolCandleChart';
import ErrorBoundary from 'src/common/components/ErrorBoundary';

const SymbolChart = () => {
    //
    const {
        option: { selectedSymbol, symbolChartDate, symbolChartType },
    } = useAppValues();

    const mockData = useMemo(() => (symbolChartDate === 'Today' ? tData : symbolChartDate === 'Monthly' ? mData : wData), [symbolChartDate]);

    return (
        <div className="h-[355px] grid grid-rows-one-min gap-4">
            <div className="">
                {symbolChartType === 'Linear' ? (
                    <ErrorBoundary>
                        <SymbolLinearChart date={symbolChartDate} data={mockData} />
                    </ErrorBoundary>
                ) : (
                    <SymbolCandleChart date={symbolChartDate} data={mockData} />
                )}
            </div>
            <div>
                <ErrorBoundary>
                    <ChartController />
                </ErrorBoundary>
            </div>
        </div>
    );
};

export default SymbolChart;

const wData = [
    {
        o: 121000,
        h: 121005,
        l: 120503,
        c: 120959,
        x: 1688947200000,
        v: 111394,
    },
    {
        o: 121900,
        h: 121900,
        l: 118526,
        c: 119053,
        x: 1689033600000,
        v: 118671,
    },
    {
        o: 118059,
        h: 119989,
        l: 117400,
        c: 119898,
        x: 1689120000000,
        v: 974235,
    },
    {
        o: 119900,
        h: 120998,
        l: 119900,
        c: 120480,
        x: 1689379200000,
        v: 967166,
    },
    {
        o: 119459,
        h: 119459,
        l: 117500,
        c: 118000,
        x: 1689465600000,
        v: 197341,
    },
    {
        o: 118799,
        h: 118799,
        l: 116601,
        c: 118399,
        x: 1689552000000,
        v: 169925,
    },
    {
        o: 118388,
        h: 120000,
        l: 118388,
        c: 119158,
        x: 1689638400000,
        v: 254835,
    },
    {
        o: 118440,
        h: 118800,
        l: 117900,
        c: 118099,
        x: 1689724800000,
        v: 97380,
    },
    {
        o: 118004,
        h: 118600,
        l: 116965,
        c: 117149,
        x: 1689984000000,
        v: 143958,
    },
    {
        o: 116800,
        h: 116800,
        l: 114831,
        c: 115800,
        x: 1690070400000,
        v: 296151,
    },
    {
        o: 115800,
        h: 118600,
        l: 115013,
        c: 116835,
        x: 1690156800000,
        v: 278863,
    },
    {
        o: 116840,
        h: 119620,
        l: 116840,
        c: 118705,
        x: 1690243200000,
        v: 232889,
    },
    {
        o: 120020,
        h: 122000,
        l: 120000,
        c: 120750,
        x: 1690329600000,
        v: 172560,
    },
    {
        o: 119939,
        h: 120900,
        l: 119800,
        c: 120779,
        x: 1690588800000,
        v: 232250,
    },
    {
        o: 121700,
        h: 121700,
        l: 117610,
        c: 119100,
        x: 1690675200000,
        v: 581208,
    },
    {
        o: 119450,
        h: 121800,
        l: 119450,
        c: 121400,
        x: 1690761600000,
        v: 260380,
    },
    {
        o: 124500,
        h: 127800,
        l: 123000,
        c: 127700,
        x: 1690848000000,
        v: 603845,
    },
    {
        o: 126980,
        h: 126980,
        l: 122980,
        c: 123690,
        x: 1691193600000,
        v: 426484,
    },
    {
        o: 124700,
        h: 124700,
        l: 122803,
        c: 123338,
        x: 1691280000000,
        v: 161697,
    },
    {
        o: 123020,
        h: 124000,
        l: 122952,
        c: 123301,
        x: 1691366400000,
        v: 151415,
    },
    {
        o: 122900,
        h: 122990,
        l: 122101,
        c: 122925,
        x: 1691452800000,
        v: 95673,
    },
    {
        o: 122950,
        h: 123790,
        l: 122800,
        c: 123705,
        x: 1691539200000,
        v: 157549,
    },
    {
        o: 120040,
        h: 120040,
        l: 117470,
        c: 119793,
        x: 1691798400000,
        v: 323926,
    },
    {
        o: 120200,
        h: 121850,
        l: 120200,
        c: 120901,
        x: 1691884800000,
        v: 254612,
    },
    {
        o: 121920,
        h: 121920,
        l: 120100,
        c: 120788,
        x: 1691971200000,
        v: 265353,
    },
    {
        o: 120788,
        h: 121300,
        l: 120210,
        c: 120322,
        x: 1692057600000,
        v: 216199,
    },
    {
        o: 121480,
        h: 121480,
        l: 119990,
        c: 120042,
        x: 1692144000000,
        v: 95763,
    },
    {
        o: 118999,
        h: 119499,
        l: 118171,
        c: 118250,
        x: 1692403200000,
        v: 272833,
    },
    {
        o: 118400,
        h: 121000,
        l: 118121,
        c: 118739,
        x: 1692489600000,
        v: 183768,
    },
];

const tData = [
    {
        o: 7600,
        h: 7680,
        l: 7600,
        c: 7660,
        x: 1692608400000,
        v: 123052,
    },
    {
        o: 7660,
        h: 7680,
        l: 7610,
        c: 7660,
        x: 1692608700000,
        v: 163398,
    },
    {
        o: 7680,
        h: 7690,
        l: 7650,
        c: 7670,
        x: 1692609000000,
        v: 195626,
    },
    {
        o: 7670,
        h: 7670,
        l: 7640,
        c: 7650,
        x: 1692609300000,
        v: 68914,
    },
    {
        o: 7660,
        h: 7660,
        l: 7630,
        c: 7630,
        x: 1692609600000,
        v: 20496,
    },
    {
        o: 7560,
        h: 7620,
        l: 7560,
        c: 7600,
        x: 1692609900000,
        v: 82040,
    },
    {
        o: 7610,
        h: 7610,
        l: 7600,
        c: 7600,
        x: 1692610200000,
        v: 181535,
    },
    {
        o: 7610,
        h: 7610,
        l: 7500,
        c: 7500,
        x: 1692610500000,
        v: 254079,
    },
    {
        o: 7490,
        h: 7570,
        l: 7440,
        c: 7570,
        x: 1692610800000,
        v: 118638,
    },
    {
        o: 7570,
        h: 7590,
        l: 7510,
        c: 7510,
        x: 1692611100000,
        v: 211975,
    },
    {
        o: 7570,
        h: 7570,
        l: 7550,
        c: 7550,
        x: 1692611400000,
        v: 83000,
    },
    {
        o: 7540,
        h: 7550,
        l: 7530,
        c: 7530,
        x: 1692611700000,
        v: 72717,
    },
    {
        o: 7540,
        h: 7550,
        l: 7540,
        c: 7540,
        x: 1692612000000,
        v: 12870,
    },
    {
        o: 7530,
        h: 7530,
        l: 7520,
        c: 7530,
        x: 1692612300000,
        v: 85258,
    },
    {
        o: 7530,
        h: 7530,
        l: 7520,
        c: 7530,
        x: 1692612600000,
        v: 149662,
    },
    {
        o: 7520,
        h: 7520,
        l: 7490,
        c: 7500,
        x: 1692612900000,
        v: 41986,
    },
    {
        o: 7520,
        h: 7530,
        l: 7500,
        c: 7500,
        x: 1692613200000,
        v: 49856,
    },
    {
        o: 7500,
        h: 7520,
        l: 7480,
        c: 7480,
        x: 1692613500000,
        v: 65109,
    },
    {
        o: 7500,
        h: 7500,
        l: 7490,
        c: 7490,
        x: 1692613800000,
        v: 62381,
    },
    {
        o: 7480,
        h: 7480,
        l: 7440,
        c: 7440,
        x: 1692614100000,
        v: 144555,
    },
    {
        o: 7450,
        h: 7460,
        l: 7440,
        c: 7450,
        x: 1692614400000,
        v: 40346,
    },
    {
        o: 7450,
        h: 7460,
        l: 7450,
        c: 7450,
        x: 1692614700000,
        v: 143992,
    },
    {
        o: 7450,
        h: 7490,
        l: 7410,
        c: 7420,
        x: 1692615000000,
        v: 101396,
    },
    {
        o: 7420,
        h: 7420,
        l: 7410,
        c: 7410,
        x: 1692615300000,
        v: 66899,
    },
    {
        o: 7410,
        h: 7410,
        l: 7400,
        c: 7410,
        x: 1692615600000,
        v: 285493,
    },
    {
        o: 7400,
        h: 7410,
        l: 7390,
        c: 7390,
        x: 1692615900000,
        v: 62568,
    },
    {
        o: 7400,
        h: 7400,
        l: 7390,
        c: 7400,
        x: 1692616200000,
        v: 51871,
    },
    {
        o: 7390,
        h: 7470,
        l: 7390,
        c: 7400,
        x: 1692616500000,
        v: 107043,
    },
    {
        o: 7400,
        h: 7400,
        l: 7340,
        c: 7340,
        x: 1692616800000,
        v: 43106,
    },
    {
        o: 7340,
        h: 7360,
        l: 7330,
        c: 7330,
        x: 1692617100000,
        v: 64308,
    },
    {
        o: 7350,
        h: 7360,
        l: 7340,
        c: 7350,
        x: 1692617400000,
        v: 83972,
    },
    {
        o: 7350,
        h: 7350,
        l: 7330,
        c: 7330,
        x: 1692617700000,
        v: 141517,
    },
    {
        o: 7330,
        h: 7330,
        l: 7300,
        c: 7320,
        x: 1692618000000,
        v: 231755,
    },
    {
        o: 7320,
        h: 7320,
        l: 7300,
        c: 7320,
        x: 1692618300000,
        v: 35525,
    },
    {
        o: 7330,
        h: 7340,
        l: 7330,
        c: 7340,
        x: 1692618600000,
        v: 17910,
    },
    {
        o: 7340,
        h: 7340,
        l: 7120,
        c: 7250,
        x: 1692618900000,
        v: 825337,
    },
    {
        o: 7200,
        h: 7270,
        l: 7200,
        c: 7260,
        x: 1692619200000,
        v: 38897,
    },
    {
        o: 7270,
        h: 7270,
        l: 7200,
        c: 7230,
        x: 1692619500000,
        v: 194072,
    },
    {
        o: 7240,
        h: 7240,
        l: 7200,
        c: 7200,
        x: 1692619800000,
        v: 303589,
    },
    {
        o: 7210,
        h: 7220,
        l: 7190,
        c: 7220,
        x: 1692620100000,
        v: 640154,
    },
    {
        o: 7220,
        h: 7290,
        l: 7210,
        c: 7250,
        x: 1692620400000,
        v: 24458,
    },
    {
        o: 7250,
        h: 7290,
        l: 7120,
        c: 7150,
        x: 1692620700000,
        v: 875748,
    },
];

const mData = [
    {
        o: 10020,
        h: 10140,
        l: 9620,
        c: 9640,
        x: 1688947200000,
        v: 13848230,
    },
    {
        o: 9650,
        h: 9800,
        l: 9120,
        c: 9120,
        x: 1689033600000,
        v: 17304212,
    },
    {
        o: 9120,
        h: 9120,
        l: 8640,
        c: 8700,
        x: 1689120000000,
        v: 27439078,
    },
    {
        o: 8790,
        h: 8900,
        l: 8290,
        c: 8410,
        x: 1689379200000,
        v: 21094474,
    },
    {
        o: 8400,
        h: 8540,
        l: 7970,
        c: 7970,
        x: 1689465600000,
        v: 14636765,
    },
    {
        o: 7800,
        h: 7960,
        l: 7530,
        c: 7800,
        x: 1689552000000,
        v: 19143953,
    },
    {
        o: 7760,
        h: 8140,
        l: 7760,
        c: 8140,
        x: 1689638400000,
        v: 18485894,
    },
    {
        o: 8220,
        h: 8650,
        l: 7930,
        c: 8040,
        x: 1689724800000,
        v: 29310687,
    },
    {
        o: 8070,
        h: 8070,
        l: 7780,
        c: 7780,
        x: 1689984000000,
        v: 17839910,
    },
    {
        o: 7660,
        h: 7930,
        l: 7410,
        c: 7580,
        x: 1690070400000,
        v: 14234540,
    },
    {
        o: 7780,
        h: 8160,
        l: 7740,
        c: 7880,
        x: 1690156800000,
        v: 8522507,
    },
    {
        o: 7860,
        h: 8200,
        l: 7610,
        c: 7740,
        x: 1690243200000,
        v: 9955934,
    },
    {
        o: 7730,
        h: 8160,
        l: 7570,
        c: 8100,
        x: 1690329600000,
        v: 10069825,
    },
    {
        o: 8120,
        h: 8500,
        l: 8030,
        c: 8160,
        x: 1690588800000,
        v: 18300931,
    },
    {
        o: 8230,
        h: 8230,
        l: 7720,
        c: 7740,
        x: 1690675200000,
        v: 20330339,
    },
    {
        o: 7680,
        h: 8100,
        l: 7680,
        c: 8090,
        x: 1690761600000,
        v: 12029773,
    },
    {
        o: 8160,
        h: 8240,
        l: 7960,
        c: 8120,
        x: 1690848000000,
        v: 8039862,
    },
    {
        o: 8150,
        h: 8660,
        l: 8150,
        c: 8660,
        x: 1691193600000,
        v: 24225678,
    },
    {
        o: 8660,
        h: 8790,
        l: 8210,
        c: 8360,
        x: 1691280000000,
        v: 14229737,
    },
    {
        o: 8510,
        h: 8960,
        l: 8510,
        c: 8550,
        x: 1691366400000,
        v: 18106785,
    },
    {
        o: 8710,
        h: 8710,
        l: 8180,
        c: 8320,
        x: 1691452800000,
        v: 14188366,
    },
    {
        o: 8530,
        h: 8530,
        l: 8160,
        c: 8170,
        x: 1691539200000,
        v: 9174835,
    },
    {
        o: 8180,
        h: 8180,
        l: 7700,
        c: 7700,
        x: 1691798400000,
        v: 15640611,
    },
    {
        o: 7590,
        h: 7660,
        l: 7200,
        c: 7650,
        x: 1691884800000,
        v: 15799685,
    },
    {
        o: 7740,
        h: 7900,
        l: 7630,
        c: 7750,
        x: 1691971200000,
        v: 19670099,
    },
    {
        o: 7750,
        h: 7820,
        l: 7330,
        c: 7770,
        x: 1692057600000,
        v: 15260804,
    },
    {
        o: 7690,
        h: 7990,
        l: 7690,
        c: 7870,
        x: 1692144000000,
        v: 10315458,
    },
    {
        o: 7870,
        h: 7970,
        l: 7370,
        c: 7380,
        x: 1692403200000,
        v: 11847716,
    },
    {
        o: 7500,
        h: 7880,
        l: 7210,
        c: 7580,
        x: 1692489600000,
        v: 8058207,
    },
];
