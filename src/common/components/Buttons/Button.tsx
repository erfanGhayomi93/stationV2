import clsx from 'clsx';
import { forwardRef } from 'react';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
    children: React.ReactNode;
    loading?: boolean;
    variant?: 'primary' | 'success' | 'error' | 'info';
}

const Button = forwardRef<HTMLButtonElement, ButtonProps>(({ children, variant = 'primary', loading = false, ...rest }, ref) => {
    //

    const SpinnerIcon = () => (
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path
                d="M15.0001 8.00004C15.0001 8.16898 14.933 8.331 14.8136 8.45046C14.6941 8.56992 14.5321 8.63704 14.3631 8.63704C14.1942 8.63704 14.0322 8.56992 13.9127 8.45046C13.7932 8.331 13.7261 8.16898 13.7261 8.00004C13.7261 7.83109 13.7932 7.66907 13.9127 7.54961C14.0322 7.43015 14.1942 7.36304 14.3631 7.36304C14.5321 7.36304 14.6941 7.43015 14.8136 7.54961C14.933 7.66907 15.0001 7.83109 15.0001 8.00004ZM14.4671 10.68C14.4369 10.7597 14.391 10.8324 14.3321 10.894C14.2732 10.9555 14.2025 11.0046 14.1243 11.0383C14.0461 11.0721 13.9619 11.0897 13.8767 11.0903C13.7915 11.0908 13.7071 11.0743 13.6284 11.0416C13.5498 11.0089 13.4785 10.9607 13.4188 10.8999C13.3591 10.8392 13.3122 10.767 13.2809 10.6878C13.2497 10.6085 13.2346 10.5238 13.2367 10.4387C13.2388 10.3535 13.258 10.2696 13.2931 10.192C13.362 10.0429 13.486 9.92618 13.6391 9.86639C13.7921 9.80661 13.9624 9.80839 14.1142 9.87135C14.2659 9.93431 14.3875 10.0536 14.4533 10.2041C14.5191 10.3547 14.524 10.5249 14.4671 10.679M12.9501 12.949C12.8309 13.0684 12.6692 13.1355 12.5005 13.1356C12.3318 13.1357 12.17 13.0688 12.0506 12.9495C11.9313 12.8303 11.8642 12.6686 11.8641 12.4999C11.864 12.3312 11.9309 12.1694 12.0501 12.05C12.1695 11.9307 12.3313 11.8636 12.5001 11.8636C12.6689 11.8636 12.8308 11.9307 12.9501 12.05C13.0695 12.1694 13.1365 12.3313 13.1365 12.5C13.1365 12.6688 13.0695 12.8297 12.9501 12.949ZM10.6801 14.467C10.6025 14.5016 10.5187 14.5202 10.4338 14.5219C10.3488 14.5236 10.2644 14.5083 10.1855 14.4768C10.1065 14.4454 10.0347 14.3985 9.97415 14.3388C9.91362 14.2792 9.86563 14.2081 9.833 14.1296C9.80038 14.0512 9.78378 13.967 9.78419 13.882C9.78459 13.797 9.80199 13.713 9.83536 13.6349C9.86873 13.5567 9.9174 13.486 9.9785 13.427C10.0396 13.368 10.1119 13.3217 10.1911 13.291C10.3457 13.2331 10.5168 13.2374 10.6683 13.3032C10.8197 13.3689 10.9398 13.4909 11.0031 13.6434C11.0663 13.7959 11.0679 13.967 11.0075 14.1206C10.9471 14.2743 10.8293 14.3985 10.6791 14.467"
                fill="#D6E9FF"
            />
            <path
                d="M8 15C7.83106 15 7.66903 14.9329 7.54957 14.8134C7.43011 14.694 7.363 14.5319 7.363 14.363C7.363 14.1941 7.43011 14.032 7.54957 13.9126C7.66903 13.7931 7.83106 13.726 8 13.726C8.16894 13.726 8.33097 13.7931 8.45043 13.9126C8.56989 14.032 8.637 14.1941 8.637 14.363C8.637 14.5319 8.56989 14.694 8.45043 14.8134C8.33097 14.9329 8.16894 15 8 15ZM5.321 14.467C5.24372 14.435 5.1735 14.388 5.11436 14.3288C5.05523 14.2697 5.00832 14.1994 4.97633 14.1221C4.94434 14.0448 4.92789 13.9619 4.92792 13.8783C4.92795 13.7946 4.94446 13.7118 4.9765 13.6345C5.00854 13.5572 5.05549 13.487 5.11467 13.4279C5.17385 13.3687 5.2441 13.3218 5.3214 13.2898C5.39871 13.2578 5.48156 13.2414 5.56522 13.2414C5.64888 13.2415 5.73172 13.258 5.809 13.29C5.96508 13.3547 6.08906 13.4788 6.15367 13.6349C6.21827 13.791 6.21821 13.9664 6.1535 14.1225C6.08879 14.2786 5.96472 14.4026 5.8086 14.4672C5.65247 14.5318 5.47708 14.5317 5.321 14.467ZM3.05 12.95C2.9879 12.8917 2.93816 12.8215 2.90372 12.7435C2.86928 12.6656 2.85085 12.5816 2.84952 12.4964C2.84818 12.4112 2.86398 12.3266 2.89597 12.2477C2.92795 12.1687 2.97548 12.097 3.03572 12.0367C3.09596 11.9765 3.16769 11.929 3.24665 11.897C3.32561 11.865 3.4102 11.8492 3.49538 11.8505C3.58057 11.8518 3.66462 11.8703 3.74254 11.9047C3.82046 11.9392 3.89067 11.9889 3.949 12.051C4.00809 12.1101 4.05497 12.1803 4.08695 12.2575C4.11894 12.3347 4.1354 12.4174 4.1354 12.501C4.1354 12.5846 4.11894 12.6673 4.08695 12.7445C4.05497 12.8217 4.00809 12.8919 3.949 12.951C3.8899 13.0101 3.81975 13.057 3.74254 13.089C3.66533 13.1209 3.58257 13.1374 3.499 13.1374C3.41543 13.1374 3.33267 13.1209 3.25546 13.089C3.17825 13.057 3.10809 13.0101 3.049 12.951M1.532 10.681C1.49428 10.6029 1.47291 10.518 1.46918 10.4313C1.46545 10.3447 1.47944 10.2582 1.51031 10.1772C1.54118 10.0962 1.58826 10.0223 1.64868 9.96008C1.7091 9.89788 1.78158 9.84867 1.86169 9.81547C1.94179 9.78227 2.02783 9.76577 2.11454 9.76699C2.20124 9.76821 2.28678 9.78712 2.36592 9.82256C2.44506 9.858 2.51613 9.90922 2.57478 9.97309C2.63343 10.037 2.67842 10.1121 2.707 10.194C2.75954 10.3473 2.75164 10.515 2.68491 10.6627C2.61818 10.8104 2.49765 10.9271 2.34786 10.9891C2.19807 11.051 2.03029 11.0536 1.87871 10.9961C1.72712 10.9387 1.60313 10.8267 1.532 10.681ZM1 8C1 7.83106 1.06711 7.66903 1.18657 7.54957C1.30603 7.43011 1.46806 7.363 1.637 7.363C1.80594 7.363 1.96797 7.43011 2.08743 7.54957C2.20689 7.66903 2.274 7.83106 2.274 8C2.274 8.16894 2.20689 8.33097 2.08743 8.45043C1.96797 8.56989 1.80594 8.637 1.637 8.637C1.46806 8.637 1.30603 8.56989 1.18657 8.45043C1.06711 8.33097 1 8.16894 1 8ZM1.532 5.321C1.56235 5.24165 1.6083 5.16919 1.66712 5.10789C1.72594 5.04659 1.79645 4.9977 1.87448 4.9641C1.95251 4.9305 2.03648 4.91287 2.12143 4.91226C2.20638 4.91165 2.2906 4.92806 2.3691 4.96053C2.44761 4.993 2.51881 5.04087 2.57851 5.10132C2.63821 5.16176 2.6852 5.23355 2.71669 5.31246C2.74819 5.39136 2.76356 5.47577 2.7619 5.56071C2.76023 5.64565 2.74156 5.72939 2.707 5.807C2.63957 5.95839 2.51572 6.07748 2.36181 6.13892C2.20789 6.20036 2.03607 6.1993 1.88293 6.13595C1.72979 6.07261 1.60742 5.952 1.54187 5.79978C1.47633 5.64757 1.47279 5.47579 1.532 5.321ZM3.05 3.05C3.10909 2.99091 3.17925 2.94403 3.25646 2.91205C3.33367 2.88006 3.41643 2.8636 3.5 2.8636C3.58357 2.8636 3.66633 2.88006 3.74354 2.91205C3.82075 2.94403 3.89091 2.99091 3.95 3.05C4.00909 3.10909 4.05597 3.17925 4.08795 3.25646C4.11994 3.33367 4.1364 3.41643 4.1364 3.5C4.1364 3.58357 4.11994 3.66633 4.08795 3.74354C4.05597 3.82075 4.00909 3.89091 3.95 3.95C3.83065 4.06935 3.66878 4.1364 3.5 4.1364C3.33122 4.1364 3.16935 4.06935 3.05 3.95C2.93065 3.83065 2.8636 3.66878 2.8636 3.5C2.8636 3.33122 2.93065 3.16935 3.05 3.05ZM5.32 1.533C5.39781 1.49802 5.48185 1.47902 5.56714 1.47714C5.65243 1.47526 5.73722 1.49052 5.8165 1.52204C5.89578 1.55355 5.96792 1.60066 6.02864 1.66059C6.08936 1.72051 6.13742 1.79202 6.16998 1.87087C6.20254 1.94972 6.21893 2.03431 6.21818 2.11962C6.21742 2.20492 6.19954 2.28921 6.16559 2.36747C6.13164 2.44573 6.08232 2.51638 6.02055 2.57522C5.95878 2.63406 5.88582 2.67989 5.806 2.71C5.65112 2.76842 5.47958 2.76425 5.32771 2.69838C5.17585 2.6325 5.0556 2.5101 4.99242 2.3571C4.92924 2.2041 4.92811 2.03251 4.98925 1.87868C5.0504 1.72486 5.16902 1.60088 5.32 1.533ZM8.001 1C8.16981 1.00013 8.33165 1.06732 8.45093 1.18678C8.5702 1.30624 8.63713 1.46819 8.637 1.637C8.63687 1.80581 8.56968 1.96765 8.45022 2.08693C8.33076 2.2062 8.16881 2.27313 8 2.273C7.83119 2.273 7.66929 2.20594 7.54993 2.08657C7.43056 1.96721 7.3635 1.80531 7.3635 1.6365C7.3635 1.46769 7.43056 1.30579 7.54993 1.18643C7.66929 1.06706 7.83119 1 8 1"
                fill="transparent"
            />
            <path
                d="M10.6803 1.53291C10.7573 1.56496 10.8273 1.61186 10.8862 1.67093C10.9451 1.73001 10.9918 1.80011 11.0236 1.87723C11.0554 1.95435 11.0717 2.03698 11.0716 2.1204C11.0714 2.20382 11.0549 2.28639 11.0228 2.36341C10.9908 2.44043 10.9439 2.51039 10.8848 2.56928C10.8257 2.62818 10.7556 2.67486 10.6785 2.70667C10.5228 2.7709 10.3479 2.77063 10.1923 2.70591C10.1153 2.67394 10.0453 2.6271 9.98641 2.56809C9.92749 2.50907 9.88077 2.43902 9.84892 2.36195C9.81707 2.28488 9.80071 2.20229 9.80078 2.11889C9.80085 2.0355 9.81734 1.95293 9.84932 1.87591C9.8813 1.79889 9.92813 1.72893 9.98715 1.67001C10.0462 1.61109 10.1162 1.56437 10.1933 1.53252C10.2704 1.50066 10.3529 1.48431 10.4363 1.48438C10.5197 1.48444 10.6023 1.50094 10.6793 1.53291M12.9493 3.04991C13.0115 3.10817 13.0613 3.17833 13.0958 3.25621C13.1303 3.3341 13.1489 3.41812 13.1503 3.50331C13.1517 3.58849 13.136 3.67309 13.1041 3.75208C13.0722 3.83108 13.0248 3.90286 12.9646 3.96317C12.9044 4.02348 12.8328 4.07108 12.7538 4.10316C12.6749 4.13523 12.5903 4.15112 12.5052 4.14988C12.42 4.14865 12.3359 4.13031 12.2579 4.09596C12.18 4.06161 12.1097 4.01194 12.0513 3.94991C11.932 3.8307 11.8649 3.66896 11.8648 3.50027C11.8647 3.33158 11.9316 3.16976 12.0508 3.05041C12.17 2.93107 12.3318 2.86397 12.5005 2.86387C12.6692 2.86378 12.83 2.9307 12.9493 3.04991ZM14.4673 5.32091C14.5004 5.39825 14.5177 5.48138 14.5184 5.56547C14.5191 5.64957 14.5032 5.73297 14.4714 5.81085C14.4397 5.88873 14.3928 5.95954 14.3335 6.01918C14.2742 6.07882 14.2037 6.12611 14.126 6.15832C14.0483 6.19052 13.965 6.20699 13.8809 6.20678C13.7968 6.20657 13.7136 6.18968 13.636 6.15709C13.5585 6.12451 13.4882 6.07687 13.4292 6.01693C13.3702 5.95699 13.3237 5.88595 13.2923 5.80791C13.2299 5.65251 13.2312 5.47874 13.2961 5.32434C13.361 5.16994 13.4842 5.04737 13.6389 4.98325C13.7937 4.91912 13.9674 4.91861 14.1225 4.98183C14.2776 5.04505 14.4015 5.1669 14.4673 5.32091Z"
                fill="#D6E9FF"
            />
        </svg>
    );

    return (
        <button
            ref={ref}
            className={clsx('relative h-8 rounded text-L-basic dark:text-D-basic flex items-center justify-center grow duration-200', {
                'bg-L-primary-50 hover:bg-L-blue-300 dark:bg-D-primary-50 dark:hover:bg-D-blue-300': variant === 'primary',
                'text-L-primary-50 border border-L-primary-50 dark:text-D-primary-50 dark:border-D-primary-50': variant === 'info',
                'bg-L-success-200 hover:bg-L-success-300': variant === 'success',
                'bg-L-error-200   hover:bg-L-error-300': variant === 'error',
            })}
            {...rest}
        >
            <span className={clsx('animate-spin absolute right-[18%]', loading ? 'opacity-100' : 'opacity-0')}>{SpinnerIcon()}</span>

            {children}
        </button>
    );
});

Button.displayName = 'Button';

export default Button;
